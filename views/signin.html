<div class="box">
    <h1 style="margin-top: 50px;">Sign In</h1>
    <p class="text-muted">Please enter your username and password!</p>
    <input type="text" placeholder="Username" id="username">
    <input type="password" placeholder="Password" id="password">
    <a class="forgot text-muted" href="/signup">You don't have a account, sigup</a>
    <input type="submit" value="Sign In" id="submit">
</div>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        
        window.submit.addEventListener('click', () => {
            const data = {
                userName: window.username.value,
                password: window.password.value,
            }

            fetch('/api/signin', {
                method: 'post',
                body: JSON.stringify(data),
                headers: {
                    'Accept': 'application/json',
                    'Content-Type': 'application/json',
                },
            }).then(res => res.json()).then(({ error }) => {
                
                if (error) {
                    return swal('Error', error, 'error')
                }

                location.href = '/'
            })
        })
    })
</script>